# Migration `20200928232303-create-matter-model`

This migration has been generated by vitor0p9f at 9/28/2020, 8:23:03 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Matters" (
"nome" text   NOT NULL ,
"identificador" text   NOT NULL ,
"id_modalidade" integer []  ,
"id_curso" integer []  ,
"id_turma" integer []  ,
"professores" integer []  
)

CREATE UNIQUE INDEX "Matters.identificador_unique" ON "public"."Matters"("identificador")

CREATE UNIQUE INDEX "Students.id_sensor_unique" ON "public"."Students"("id_sensor")

ALTER TABLE "public"."Info4" ADD FOREIGN KEY ("id_sensor")REFERENCES "public"."Students"("id_sensor") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200928231707-create-course-model..20200928232303-create-matter-model
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Info4{
   id_sensor Int @unique
@@ -36,8 +36,9 @@
   total_seguranca_da_informacao Int
   seguranca_da_informacao Int? @default(0)
   total_sociologia Int
   sociologia Int? @default(0)
+  Student Students @relation(fields: [id_sensor],references: [id_sensor])
 }
 model Users{
   id_usuario Int @id @default(autoincrement())
@@ -49,10 +50,10 @@
 model Students{
   nome String
   matricula Int @unique
-  id_sensor Int
-  id_usuario Int
+  id_sensor Int @unique
+  id_usuario Int 
   id_modalidade Int
   id_curso Int
   id_turma Int
   User Users @relation(fields: [id_usuario],references: [id_usuario])
@@ -64,4 +65,13 @@
   id_modalidade Int
   professores Int[]
 }
+model Matters{
+  nome String
+  identificador String @unique
+  id_modalidade Int[]
+  id_curso Int[]
+  id_turma Int[]
+  professores Int[]
+}
+
```


