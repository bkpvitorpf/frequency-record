# Migration `20200928232911-create-mode-model`

This migration has been generated by vitor0p9f at 9/28/2020, 8:29:11 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Info4" ADD COLUMN "mes" integer   NOT NULL 

CREATE TABLE "public"."Matters" (
"nome" text   NOT NULL ,
"identificador" text   NOT NULL ,
"professores" integer []  ,
"id_modalidade" integer []  ,
"id_curso" integer []  ,
"id_turma" integer []  
)

CREATE TABLE "public"."Modes" (
"id_modalidade" SERIAL,
"modalidade" text   NOT NULL ,
PRIMARY KEY ("id_modalidade")
)

CREATE UNIQUE INDEX "Matters.identificador_unique" ON "public"."Matters"("identificador")

CREATE UNIQUE INDEX "Students.id_sensor_unique" ON "public"."Students"("id_sensor")

ALTER TABLE "public"."Info4" ADD FOREIGN KEY ("id_sensor")REFERENCES "public"."Students"("id_sensor") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200928232303-create-matter-model..20200928232911-create-mode-model
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Info4{
   id_sensor Int @unique
@@ -36,8 +36,10 @@
   total_seguranca_da_informacao Int
   seguranca_da_informacao Int? @default(0)
   total_sociologia Int
   sociologia Int? @default(0)
+  mes Int
+
   Student Students @relation(fields: [id_sensor],references: [id_sensor])
 }
 model Users{
@@ -48,30 +50,35 @@
   nivel_de_permissao Int
 }
 model Students{
+  id_usuario Int 
   nome String
   matricula Int @unique
   id_sensor Int @unique
-  id_usuario Int 
   id_modalidade Int
   id_curso Int
   id_turma Int
+
   User Users @relation(fields: [id_usuario],references: [id_usuario])
 }
 model Courses{
+  id_curso Int @default(autoincrement()) @id
   nome String
-  id_curso Int @default(autoincrement()) @id
+  professores Int[]
   id_modalidade Int
-  professores Int[]
 }
 model Matters{
   nome String
   identificador String @unique
+  professores Int[]
   id_modalidade Int[]
   id_curso Int[]
   id_turma Int[]
-  professores Int[]
 }
+model Modes{
+  id_modalidade Int @default(autoincrement()) @id
+  modalidade String
+}
```


