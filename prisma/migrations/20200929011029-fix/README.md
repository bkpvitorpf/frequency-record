# Migration `20200929011029-fix`

This migration has been generated by vitor0p9f at 9/28/2020, 10:10:30 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Students" DROP CONSTRAINT "Students_id_usuario_nome_fkey"

ALTER TABLE "public"."Teachers" DROP COLUMN "materias"

ALTER TABLE "public"."Students" ADD FOREIGN KEY ("id_usuario", "nome")REFERENCES "public"."Users"("id_usuario","nome") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200929005250-fix..20200929011029-fix
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Info4{
   id_sensor Int @unique
@@ -92,9 +92,8 @@
 model Teachers{
   id_usuario Int
   nome String
-  materias String[]
   id_sensor_profesor Int @unique
   id_professor Int @default(autoincrement()) @id
   User Users @relation(fields: [id_usuario,nome],references: [id_usuario,nome])
```


