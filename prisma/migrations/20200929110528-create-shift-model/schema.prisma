generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = "***"
}

model Info4{
  id_sensor Int 
  total_asor Int 
  asor Int? @default(0)
  total_construcao_de_sites Int
  construcao_de_sites Int? @default(0)
  total_eletronica_aplicada Int
  eletronica_aplicada Int? @default(0)
  total_espanhol Int
  espanhol Int? @default(0)
  total_filosofia Int
  filosofia Int? @default(0)
  total_geografia Int
  geografia Int? @default(0)
  total_historia Int
  historia Int? @default(0)
  total_hst Int
  hst Int? @default(0)
  total_instalacoes_eletricas_aplicadas Int
  instalacoes_eletricas_aplicadas Int? @default(0)
  total_portugues Int
  portugues Int? @default(0)
  total_programacao_web Int
  programacao_web Int? @default(0)
  total_pcc Int
  pcc Int? @default(0)
  total_seguranca_da_informacao Int
  seguranca_da_informacao Int? @default(0)
  total_sociologia Int
  sociologia Int? @default(0)
  mes Int

  @@unique([id_sensor])

  Student Students @relation(fields: [id_sensor],references: [id_sensor])
}

model Users{
  id_usuario Int @id @default(autoincrement())
  nome String
  email String @unique
  senha String
  nivel_de_permissao Int

  @@unique([nome,id_usuario])
}

model Students{
  id_usuario Int 
  nome String 
  matricula Int @unique
  id_sensor Int @unique
  id_modalidade Int
  id_curso Int
  id_turma Int

  User Users @relation(fields: [id_usuario,nome],references: [id_usuario,nome])
  Mode Modes @relation(fields: [id_modalidade],references: [id_modalidade])
  Course Courses @relation(fields: [id_curso],references: [id_curso])
  Class Classes @relation(fields: [id_turma],references: [id_turma])
}

model Courses{
  id_curso Int @default(autoincrement()) @id
  nome String
  professores Teachers[]
  id_modalidade Int

  Mode Modes @relation(fields: [id_modalidade],references: [id_modalidade])
}

model Matters{
  nome String
  identificador String @unique
  professores Teachers[]
  id_modalidade Modes[]
  id_curso Courses[]
  id_turma Classes[]
}

model Modes{
  id_modalidade Int @default(autoincrement()) @id
  nome String
}

model Teachers{
  id_usuario Int
  nome String
  id_sensor_profesor Int @unique
  id_professor Int @default(autoincrement()) @id

  User Users @relation(fields: [id_usuario,nome],references: [id_usuario,nome])
}

model Classes{
  id_turma Int @default(autoincrement()) @id
  nome String
  professores Teachers[]
  id_curso Int
  id_turno Int

  Course Courses @relation(fields: [id_curso],references: [id_curso])
}

model Shifts{
  id_turno Int @default(autoincrement()) @id
  nome String
}

